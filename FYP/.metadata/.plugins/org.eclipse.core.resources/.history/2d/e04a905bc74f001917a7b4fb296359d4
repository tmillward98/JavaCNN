package cnn.layers.fclayers;
import cnn.layers.neurons.*;

import java.util.ArrayList;
import java.util.Random;

public class FCHiddenLayer extends FLayer {

	private double[] input;
	private double[] output;
	
	private FLayer previousLayer;
	private FLayer nextLayer;
	
	//Hidden layer computes output, forward pass
	ArrayList<Neuron> neurons;
	
	FCHiddenLayer(FLayer pl, FLayer nl){
		previousLayer = pl; 
		nextLayer = nl;
		Random randomnum = new Random();
		int a = 1 + randomnum.nextInt(100);
		output = new double[a];
		
	}
	
	public void initaliseLayer(int n, FLayer prev, FLayer next){
		previousLayer = prev;
		nextLayer = next;
		createNeurons(n);
		nextLayer = next;
	}

	public double[] forwardPass() {
		for(int i = 0; i < neurons.size(); i++) {
			output[i] = neurons.get(i).forward();
		}
		return output;
	}
	
	private void createNeurons(int n) {
		for (int i = 0; i < n; i++) {
			SigmoidNeuron a = new SigmoidNeuron(this);
			neurons.add(a);
		}
	}
	
}

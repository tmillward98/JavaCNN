package cnn.layers.fclayers;

import java.util.ArrayList;

import cnn.layers.Layer;
import cnn.layers.neurons.Neuron;

public class FCClassifyLayer extends FLayer{

	//////////VARIABLES\\\\\\\\\\
	
	private int classes;
	private FLayer previousLayer;
	private double[] input;
	
	private double[] output;
	private ArrayList<Neuron> classNeurons;
	
	private double sum = 0;
	
	//////////FUNCTIONS\\\\\\\\\\
	
	//Final layer, hence no next layer


	public double[] forwardPass(){
		input = previousLayer.forwardPass();
		softmax();
		return output;
		
	}
	
	private double[] softmax() {
		for(int i = 0; i < classNeurons.size(); i++) {
			output[i] = classNeurons.get(i).forward();
			sum += output[i];
		}
		
		for(int i = 0; i < classNeurons.size(); i++) {
			output[i] = output[i] / sum;
		}
		
		
		return output;
	}
	
	private void createNeurons() {
		for(int i = 0; i < classes; i++) {
			//ClassNeuron a = new ClassNeuron();
		}
	}
	
}